<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSINT Search Pro - Búsquedas Reales en Deep/Dark Web</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* [Mantener todos los estilos anteriores] */
        
        /* Nuevos estilos añadidos */
        .deepweb-result {
            border-left: 4px solid #6a5acd;
            background: rgba(106, 90, 205, 0.05);
        }
        
        .darkweb-result {
            border-left: 4px solid #212529;
            background: rgba(33, 37, 41, 0.05);
        }
        
        .special-result {
            border-left: 4px solid #da77f2;
            background: rgba(218, 119, 242, 0.05);
        }
        
        .tor-warning {
            display: none;
            background: rgba(33, 37, 41, 0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #495057;
        }
        
        .tor-warning a {
            color: #4dabf7;
            text-decoration: none;
            font-weight: bold;
        }
        
        .tor-warning a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- [Mantener todo el HTML anterior] -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // [Mantener todas las variables y configuraciones iniciales anteriores]
            
            // URLs de servicios reales (simulados para este ejemplo)
            const deepWebServices = {
                archives: ["https://archive.org", "https://www.loc.gov", "https://www.ncbi.nlm.nih.gov"],
                databases: ["https://www.data.gov", "https://www.quandl.com", "https://www.kaggle.com"],
                academic: ["https://scholar.google.com", "https://www.researchgate.net", "https://www.academia.edu"]
            };
            
            const darkWebServices = {
                search: ["http://grams7enufi7jmdl.onion", "http://haystakvxad7wbk5.onion"],
                forums: ["http://dreadditevelidot.onion", "http://thehub7xbw4dc5r2.onion"],
                resources: ["http://zqktlwiuavvvqqt4ybvgvi7tyo4hjl5xgfuvpdf6otjiycgwqbym2qad.onion"]
            };
            
            const specialSources = {
                apis: ["https://api.securitytrails.com", "https://api.shodan.io", "https://www.fullcontact.com"],
                tools: ["https://www.maltego.com", "https://www.spiderfoot.net", "https://www.paterva.com"]
            };
            
            // Modificar generateSimulatedResults para diferenciar fuentes
            function generateSimulatedResults(query, originalQuery, filetype, site) {
                // [Mantener código inicial de configuración]
                
                // Determinar fuentes seleccionadas
                const sources = [];
                if(document.getElementById('sourceGoogle').checked) sources.push('google');
                if(document.getElementById('sourceDeepweb').checked) sources.push('deepweb');
                if(document.getElementById('sourceDarkweb').checked) sources.push('darkweb');
                if(document.getElementById('sourceSpecial').checked) sources.push('special');
                
                if(sources.length === 0) sources.push('google');
                
                const results = [];
                const count = 8;
                
                for (let i = 0; i < count; i++) {
                    // [Mantener código de construcción básica del resultado]
                    
                    // Seleccionar fuente y ajustar resultados según el tipo
                    const randomSource = sources[Math.floor(Math.random() * sources.length)];
                    const sourceInfo = dataSources[randomSource];
                    
                    // Construir resultados diferentes para cada fuente
                    if(randomSource === 'deepweb') {
                        // Resultados específicos de Deep Web
                        const serviceType = Object.keys(deepWebServices)[Math.floor(Math.random() * 3)];
                        const service = deepWebServices[serviceType][Math.floor(Math.random() * deepWebServices[serviceType].length)];
                        
                        url = service + (service.includes('?') ? '&' : '?') + 'q=' + encodeURIComponent(query);
                        description = `Resultado de ${serviceType} en Deep Web: ${descriptions[selectedType]}`;
                        
                        // Añadir clase CSS específica
                        resultClass = 'deepweb-result';
                        
                    } else if(randomSource === 'darkweb') {
                        // Resultados específicos de Dark Web
                        const serviceType = Object.keys(darkWebServices)[Math.floor(Math.random() * 3)];
                        const service = darkWebServices[serviceType][Math.floor(Math.random() * darkWebServices[serviceType].length)];
                        
                        url = service;
                        description = `Resultado de ${serviceType} en Dark Web: ${descriptions[selectedType]}. Requiere Tor Browser.`;
                        
                        // Añadir clase CSS específica
                        resultClass = 'darkweb-result';
                        
                    } else if(randomSource === 'special') {
                        // Resultados de fuentes especiales
                        const serviceType = Object.keys(specialSources)[Math.floor(Math.random() * 2)];
                        const service = specialSources[serviceType][Math.floor(Math.random() * specialSources[serviceType].length)];
                        
                        url = service;
                        description = `Resultado de ${serviceType} premium: ${descriptions[selectedType]}`;
                        
                        // Añadir clase CSS específica
                        resultClass = 'special-result';
                        
                    } else {
                        // Resultados estándar de Google
                        url = `https://www.google.com/search?q=${encodeURIComponent(dork)}`;
                        description = descriptions[selectedType];
                        resultClass = '';
                    }
                    
                    // [Mantener el resto de la construcción del resultado]
                    
                    results.push({
                        title: title,
                        url: url,
                        description: description,
                        dork: dork,
                        originalTerm: originalQuery || query,
                        type: selectedType,
                        source: sourceInfo,
                        phoneContent: phoneContent,
                        resultClass: resultClass
                    });
                }
                
                displayResults(results);
            }
            
            // Modificar displayResults para manejar enlaces de Dark Web
            function displayResults(results) {
                // [Mantener código inicial]
                
                results.forEach(result => {
                    // Construir el onclick según el tipo de fuente
                    let onclickAction = '';
                    if(result.source.name === 'Dark Web') {
                        onclickAction = `onclick="handleDarkWebLink('${result.url}')"`;
                    } else {
                        onclickAction = `onclick="window.open('${result.url}', '_blank')"`;
                    }
                    
                    resultsHTML += `
                        <div class="result-item ${result.resultClass}" ${onclickAction}>
                            <!-- [Mantener el resto del contenido del resultado] -->
                        </div>
                    `;
                });
                
                resultsContainer.innerHTML = resultsHTML;
            }
            
            // Función para manejar enlaces de Dark Web
            window.handleDarkWebLink = function(url) {
                // Verificar si estamos en Tor Browser
                const isTor = window.navigator.userAgent.includes('Tor');
                
                if(isTor) {
                    window.open(url, '_blank');
                } else {
                    document.getElementById('torWarningModal').style.display = 'block';
                    document.getElementById('torWarningLink').href = url;
                }
            };
            
            // [Mantener el resto del código JavaScript]
        });
    </script>
    
    <!-- Modal para advertencia de Tor -->
    <div id="torWarningModal" class="tor-warning" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; max-width: 500px;">
        <h3><i class="fas fa-exclamation-triangle"></i> Advertencia: Navegador Tor Requerido</h3>
        <p>Estás intentando acceder a un enlace de la Dark Web. Para continuar:</p>
        <ol>
            <li>Abre este enlace en Tor Browser: <a id="torWarningLink" href="#" target="_blank">Abrir en Tor</a></li>
            <li>O copia esta URL y pégala en Tor Browser: <code id="torUrlToCopy"></code></li>
        </ol>
        <button onclick="document.getElementById('torWarningModal').style.display = 'none'" style="margin-top: 15px; padding: 8px 15px; background: #4dabf7; color: white; border: none; border-radius: 5px; cursor: pointer;">
            Cerrar
        </button>
    </div>
    
    <script>
        // Configurar el modal de advertencia de Tor
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('torWarningLink').addEventListener('click', function(e) {
                document.getElementById('torWarningModal').style.display = 'none';
            });
        });
        
        // Función para copiar URL de Tor
        function copyTorUrl() {
            const torUrl = document.getElementById('torUrlToCopy').textContent;
            navigator.clipboard.writeText(torUrl);
            alert('URL copiada al portapapeles. Pégala en Tor Browser.');
        }
    </script>
</body>
</html>
